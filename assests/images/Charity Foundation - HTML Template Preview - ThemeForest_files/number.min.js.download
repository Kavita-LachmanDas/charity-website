!function(d,t){"use strict";function o(t){var e=t.data;(38===t.keyCode||40===t.keyCode)&&(t.preventDefault(),s(e,38===t.keyCode?e.step:-e.step))}function r(t){i.killEvent(t),n(t);var e=t.data;if(!e.disabled){var a=d(t.target).hasClass(u.up)?e.step:-e.step;e.timer=i.startTimer(e.timer,110,function(){s(e,a)},!0),s(e,a),c.on([p.touchEnd,p.mouseUp].join(" "),e,n)}}function n(t){i.killEvent(t);var e=t.data;i.clearTimer(e.timer,!0),c.off(p.namespace)}function s(t,e){var a=parseFloat(t.$el.val()),n=e;"undefined"===d.type(a)||isNaN(a)?n=!1!==t.min?t.min:0:!1!==t.min&&a<t.min?n=t.min:n+=a;var s,i,o,r=(n-t.min)%t.step;0!==r&&(n-=r),!1!==t.min&&n<t.min&&(n=t.min),!1!==t.max&&n>t.max&&(n-=t.step),n!==a&&(s=n,i=t.digits,o=Math.pow(10,i),n=Math.round(s*o)/o,t.$el.val(n).trigger(p.raw.change))}var e=t.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"}},classes:["arrow","up","down","disabled"],methods:{_setup:function(){c=t.$body},_construct:function(t){var e,a,n=parseFloat(this.attr("min")),s=parseFloat(this.attr("max"));t.min=!(!n&&0!==n)&&n,t.max=!(!s&&0!==s)&&s,t.step=parseFloat(this.attr("step"))||1,t.timer=null,t.digits=(e=t.step,-1<(a=String(e)).indexOf(".")?a.length-a.indexOf(".")-1:0),t.disabled=this.prop("disabled");var i="";i+='<button type="button" class="'+[u.arrow,u.up].join(" ")+'">'+t.labels.up+"</button>",i+='<button type="button" class="'+[u.arrow,u.down].join(" ")+'">'+t.labels.down+"</button>",this.wrap('<div class="'+[u.base,t.customClass,t.disabled?u.disabled:""].join(" ")+'"></div>').after(i),t.$container=this.parent(l.base),t.$arrows=t.$container.find(l.arrow),this.on(p.keyPress,l.element,t,o),t.$container.on([p.touchStart,p.mouseDown].join(" "),l.arrow,t,r)},_destruct:function(t){t.$arrows.remove(),this.unwrap().off(p.namespace)},enable:function(t){t.disabled&&(this.prop("disabled",!1),t.$container.removeClass(u.disabled),t.disabled=!1)},disable:function(t){t.disabled||(this.prop("disabled",!0),t.$container.addClass(u.disabled),t.disabled=!0)}},events:{tap:"tap"}}),l=e.classes,u=l.raw,p=e.events,i=e.functions,c=null}(jQuery,Formstone);